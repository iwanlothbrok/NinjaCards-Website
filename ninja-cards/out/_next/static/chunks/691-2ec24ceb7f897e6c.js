"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[691],{4524:function(e,t,r){var n=r(7437),o=r(2265),l=r(1942),a=r(301),s=r(2399);t.Z=e=>{let{user:t}=e,[r,i]=(0,o.useState)(!1),c=async e=>{try{await fetch("".concat(s.M,"/api/profile/exchangeContact"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:null==t?void 0:t.email,vCard:e})}),alert("Contact information sent successfully")}catch(e){console.error("Error sending contact information:",e),alert("Failed to send contact information. Please try again.")}};return(0,n.jsxs)("div",{className:"flex flex-col space-y-4 mt-8 mb-8",children:[(0,n.jsxs)("button",{onClick:()=>window.location.href="tel:".concat(null==t?void 0:t.phone1),className:"flex items-center justify-center bg-gradient-to-r from-green-400 to-green-600 text-white px-8 py-4 rounded-full shadow-lg hover:from-green-500 hover:to-green-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 focus:ring-opacity-50 w-full sm:w-auto",children:[(0,n.jsx)(l.DNl,{className:"mr-3 text-2xl"}),(0,n.jsx)("span",{className:"text-lg font-semibold",children:"Обади се"})]}),(0,n.jsxs)("button",{onClick:()=>navigator.share&&navigator.share({title:null==t?void 0:t.name,text:"Contact ".concat(null==t?void 0:t.name),url:window.location.href}),className:"flex items-center justify-center bg-gradient-to-r from-blue-400 to-blue-600 text-white px-8 py-4 rounded-full shadow-lg hover:from-blue-500 hover:to-blue-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-50 w-full sm:w-auto",children:[(0,n.jsx)(l.PPi,{className:"mr-3 text-2xl"}),(0,n.jsx)("span",{className:"text-lg font-semibold",children:"Сподели"})]}),(0,n.jsxs)("button",{onClick:()=>{i(!0)},className:"flex items-center justify-center bg-gradient-to-r from-purple-400 to-purple-600 text-white px-8 py-4 rounded-full shadow-lg hover:from-purple-500 hover:to-purple-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-300 focus:ring-opacity-50 w-full sm:w-auto",children:[(0,n.jsx)(l.SRX,{className:"mr-3 text-2xl"}),(0,n.jsx)("span",{className:"text-lg font-semibold",children:"Разменете Контакти"})]}),(0,n.jsx)(a.Z,{isOpen:r,onClose:()=>{i(!1)},onSubmit:c})]})}},301:function(e,t,r){var n=r(7437),o=r(2265),l=r(1942);t.Z=e=>{let{isOpen:t,onClose:r,onSubmit:a}=e,[s,i]=(0,o.useState)({name:"",email:"",phone:"",image:"",note:""}),[c,u]=(0,o.useState)({name:"",email:"",phone:"",note:""}),[m,d]=(0,o.useState)(!1),p=(e,t)=>{switch(e){case"name":return""===t.trim()?"Name is required":"";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Invalid email address";case"phone":return/^[0-9]{10,15}$/.test(t)?"":"Phone number must be between 10 to 15 digits";case"note":return""===t.trim()?"Note is required":"";default:return""}},f=e=>{let{name:t,value:r}=e.target;i({...s,[t]:r}),u({...c,[t]:p(t,r)})},g=()=>{let e={name:p("name",s.name),email:p("email",s.email),phone:p("phone",s.phone),note:p("note",s.note)};return u(e),!Object.values(e).some(e=>e)},h=()=>{let e=["BEGIN:VCARD","VERSION:3.0","CLASS:PUBLIC","PRODID:-//class_vcard //NONSGML Version 1//EN"];return s.name&&e.push("FN:".concat(s.name)),s.image&&e.push("PHOTO;ENCODING=b;TYPE=".concat(s.image.split(";")[0].split(":")[1].toUpperCase(),":").concat(s.image.split(",")[1])),s.phone&&e.push("TEL;TYPE=Phone,type=VOICE;type=pref:".concat(s.phone)),s.email&&e.push("EMAIL;type=INTERNET;type=Email;type=pref:".concat(s.email)),s.note&&e.push("NOTE;CHARSET=UTF-8:".concat(s.note)),e.push("REV:".concat(new Date().toISOString().replace(/[-:.]/g,"").slice(0,15),"Z")),e.push("END:VCARD"),e.join("\r\n")},x=async e=>{e.preventDefault(),g()&&(d(!0),a(h()),d(!1),r())};return t?(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 transition-opacity duration-300",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg mx-4 sm:mx-auto",children:[(0,n.jsx)("h2",{className:"text-2xl mb-4 font-semibold text-gray-900 text-center",children:"Разменете Контакти"}),(0,n.jsxs)("form",{onSubmit:x,noValidate:!0,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{htmlFor:"name",className:"block text-gray-700 font-medium",children:[(0,n.jsx)(l.Xws,{className:"inline mr-2"})," Вашето Име"]}),(0,n.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:f,className:"w-full px-4 py-2 border text-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.name?"border-red-500":""),required:!0,placeholder:"Иван Иванов","aria-label":"Your Name"}),c.name&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.name})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{htmlFor:"email",className:"block text-gray-700 font-medium",children:[(0,n.jsx)(l.LzR,{className:"inline mr-2"})," Вашия Имейл"]}),(0,n.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:f,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.email?"border-red-500":""),required:!0,placeholder:"example@example.com","aria-label":"Your Email"}),c.email&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{htmlFor:"phone",className:"block text-gray-700 font-medium",children:[(0,n.jsx)(l.I7T,{className:"inline mr-2"})," Вашия Телефонен Номер"]}),(0,n.jsx)("input",{type:"text",id:"phone",name:"phone",value:s.phone,onChange:f,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.phone?"border-red-500":""),required:!0,placeholder:"+359 88 888 8888","aria-label":"Your Phone"}),c.phone&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.phone})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{htmlFor:"image",className:"block text-gray-700 font-medium",children:[(0,n.jsx)(l.H3h,{className:"inline mr-2"})," Ваша Снимка (Качи)"]}),(0,n.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onloadend=()=>{i({...s,image:e.result})},e.readAsDataURL(r)}},className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500","aria-label":"Your Image"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{htmlFor:"note",className:"block text-gray-700 font-medium",children:[(0,n.jsx)(l.mGS,{className:"inline mr-2"})," Информация"]}),(0,n.jsx)("input",{type:"text",id:"note",name:"note",value:s.note,onChange:f,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.note?"border-red-500":""),required:!0,placeholder:"Запознахме се на...","aria-label":"Note"}),c.note&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.note})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,n.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",children:"Откажи"}),(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-purple-500 rounded-lg hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-700 disabled:bg-purple-300",disabled:m,children:m?"Изпраща се...":"Изпрати"})]})]})]})}):null}},9676:function(e,t,r){var n=r(7437);r(2265);var o=r(6648);t.Z=e=>{let{user:t,cardStyle:r}=e,l=[{key:"facebook",url:null==t?void 0:t.facebook,logo:"/logos/fb.png",label:"Facebook",gradient:"from-blue-600 to-purple-600"},{key:"instagram",url:null==t?void 0:t.instagram,logo:"/logos/ig.png",label:"Instagram",gradient:"from-yellow-500 to-red-700"},{key:"tiktok",url:null==t?void 0:t.tiktok,logo:"/logos/tiktok.png",label:"TikTok",gradient:"from-indigo-600 to-fuchsia-600"}];return(0,n.jsx)("div",{className:"mt-10 text-center",children:(0,n.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-5 gap-6",children:l.map(e=>e.url&&(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer","aria-label":e.label,className:"relative group",children:(0,n.jsx)("div",{className:"bg-gradient-to-r ".concat(e.gradient," filter grayscale group-hover:filter-none p-3 rounded-full shadow-lg transition-transform transform group-hover:scale-110 flex items-center justify-center"),children:(0,n.jsx)(o.default,{src:e.logo,alt:e.label,width:48,height:48,className:"object-contain transition-all duration-300",priority:!0,unoptimized:!0})})},e.key))})})}},510:function(e,t,r){r.d(t,{AuthProvider:function(){return s},a:function(){return i}});var n=r(7437),o=r(2265),l=r(6463);let a=(0,o.createContext)(void 0),s=e=>{let{children:t}=e,[r,s]=(0,o.useState)(null),i=(0,l.useRouter)();return(0,o.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{s(JSON.parse(e))}catch(e){console.error("Failed to parse user data:",e),localStorage.removeItem("user")}},[]),(0,n.jsx)(a.Provider,{value:{user:r,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),s(t),i.push("/")},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),i.push("/login")},setUser:s},children:t})},i=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},2399:function(e,t,r){r.d(t,{M:function(){return n}});let n="https://ninja-cards-website-lnp1.vercel.app"},1810:function(e,t,r){r.d(t,{w_:function(){return u}});var n=r(2265),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(o),a=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(m,s({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var r,{attr:o,size:l,title:i}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a),m=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==l?n.createElement(l.Consumer,null,e=>t(e)):t(o)}}}]);