(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5451:function(e,t,s){Promise.resolve().then(s.bind(s,9153))},9153:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(7437),a=s(2265),o=s(6463),n=s(510),i=s(2399);function l(){let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),[l,c]=(0,a.useState)({title:"",description:"",price:"",imageUrl:"",nfcType:"",features:[""],benefits:[""]}),d=(0,o.useRouter)(),u=(e,t)=>{c({...l,[t]:e.target.value})},m=e=>{c({...l,[e]:[...l[e],""]})},f=async e=>{e.preventDefault();let t={...l,price:parseFloat(l.price),features:l.features.filter(Boolean),benefits:l.benefits.filter(Boolean)};(await fetch("".concat(i.M,"/api/admin/addProduct"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?d.push("/"):console.error("Failed to add product")};return e?(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6 shadow-lg rounded-md bg-gray-700 text-white",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Add New Product"}),(0,r.jsxs)("form",{onSubmit:f,children:[["title","description","price","imageUrl","nfcType"].map(e=>(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium capitalize",children:"imageUrl"===e?"Image URL":e.charAt(0).toUpperCase()+e.slice(1)}),(0,r.jsx)("input",{type:"price"===e?"number":"text",className:"mt-1 block w-full p-1 rounded-md border-gray-300  text-black shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:l[e],onChange:t=>u(t,e),required:!0})]},e)),["features","benefits"].map(e=>(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium  capitalize",children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,r.jsxs)("button",{type:"button",className:"mt-2 text-indigo-500 hover:text-indigo-600",onClick:()=>m(e),children:["+ Add another ",e.slice(0,-1)]})]},e)),(0,r.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Product"})]})]}):(0,r.jsxs)("div",{className:"max-w-md mx-auto p-6 shadow-lg rounded-md bg-white",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Admin Access"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"yourSecretPassword"===s?t(!0):alert("Incorrect password")},children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Password"}),(0,r.jsx)("input",{type:"password",className:"mt-1 p-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s,onChange:e=>n(e.target.value),required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Submit"})]})]})}let c=e=>{let{tab:t,label:s,description:a,image:o,activeTab:n,onClick:i}=e;return(0,r.jsxs)("div",{className:"relative p-4 rounded-lg shadow-md transition-all duration-500 transform hover:scale-105 cursor-pointer text-center ".concat(n===t?"bg-gradient-to-r from-teal-600 to-orange text-white":"bg-gradient-to-r  text-white"),onClick:i,"aria-pressed":n===t,children:[(0,r.jsx)("img",{src:o,alt:s,className:"mx-auto mb-4 w-20 h-20 object-contain"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:s}),(0,r.jsx)("p",{className:"text-sm",children:a})]})};function d(){let e=(0,o.useRouter)(),{user:t}=(0,n.a)(),s=(0,o.useSearchParams)(),[i,d]=(0,a.useState)(()=>(null==s?void 0:s.get("tab"))||"addProduct"),u=null==t?void 0:t.id,m=(0,a.useMemo)(()=>(0,r.jsx)(l,{}),[i]),f=(0,a.useCallback)(t=>{"profileDetails"===t?e.push("/profileDetails?id=".concat(u)):(d(t),e.push("/adminFeatures?tab=".concat(t)))},[e,u]);return(0,r.jsx)("div",{className:"flex flex-col items-center pt-16 justify-center min-h-screen p-6 bg-gradient-to-b from-gray-900 via-gray-950 to-black text-gray-200",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-20 mb-6",children:(0,r.jsx)(c,{tab:"addProduct",label:"Add Product",description:"Add new products to the store",image:"/ninja-steps/ninja-step-1.png",activeTab:i,onClick:()=>f("addProduct")})}),(0,r.jsx)("div",{className:"transition-all",children:m})]})})}function u(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(d,{})})}},510:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return i},a:function(){return l}});var r=s(7437),a=s(2265),o=s(6463);let n=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[s,i]=(0,a.useState)(null),l=(0,o.useRouter)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse user data:",e),localStorage.removeItem("user")}},[]),(0,r.jsx)(n.Provider,{value:{user:s,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),i(t),l.push("/")},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),l.push("/login")},setUser:i},children:t})},l=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},6463:function(e,t,s){"use strict";var r=s(1169);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},2399:function(e,t,s){"use strict";s.d(t,{M:function(){return r}});let r="https://ninja-cards-website-lnp1.vercel.app"}},function(e){e.O(0,[971,23,744],function(){return e(e.s=5451)}),_N_E=e.O()}]);