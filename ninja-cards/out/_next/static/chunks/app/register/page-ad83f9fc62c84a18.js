(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{6434:function(e,r,a){Promise.resolve().then(a.bind(a,6406))},510:function(e,r,a){"use strict";a.d(r,{AuthProvider:function(){return i},a:function(){return d}});var t=a(7437),s=a(2265),o=a(6463);let l=(0,s.createContext)(void 0),i=e=>{let{children:r}=e,[a,i]=(0,s.useState)(null),d=(0,o.useRouter)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse user data:",e),localStorage.removeItem("user")}},[]),(0,t.jsx)(l.Provider,{value:{user:a,login:(e,r)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(r)),i(r),d.push("/")},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),d.push("/login")},setUser:i},children:r})},d=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},6406:function(e,r,a){"use strict";a.r(r);var t=a(7437),s=a(2265),o=a(9343),l=a(7753),i=a(4245),d=a(6463),n=a(510),c=a(2399);let u=i.Ry().shape({name:i.Z_().required("Name is required"),email:i.Z_().email("Invalid email format").required("Email is required"),password:i.Z_().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:i.Z_().oneOf([i.iH("password"),""],"Passwords must match").required("Confirm Password is required")});r.default=()=>{let{register:e,handleSubmit:r,formState:{errors:a}}=(0,o.cI)({resolver:(0,l.X)(u)}),[i,m]=(0,s.useState)(null),g=(0,d.useRouter)(),{login:b}=(0,n.a)(),x=async e=>{console.log("".concat(c.M,"/api/auth/register"));try{let r=await fetch("".concat(c.M,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});await h(r)}catch(e){f("An error occurred while processing your request","Error","red"),console.error("Error during registration:",e)}},h=async e=>{if(e.ok){setTimeout(()=>{f("Profile updated successfully","Success","green")},1e3);let{token:r,user:a}=await e.json();b(r,a),g.push("/login")}else f("Registration failed","Warning","red")},f=(e,r,a)=>{m({message:e,title:r,color:a}),setTimeout(()=>{m(null)},4e3)};return(0,t.jsx)("section",{className:"bg-gray-50 py-32 dark:bg-gray-900 min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center  mx-auto",children:[(0,t.jsx)("a",{href:"#",className:"flex items-center mb-6 text-3xl font-semibold text-gray-900 dark:text-white",children:(0,t.jsx)("img",{className:"w-24 h-24 filter grayscale",src:"./navlogo.png",alt:"logo"})}),(0,t.jsx)("div",{className:"w-full bg-white rounded-lg shadow dark:border sm:max-w-lg dark:bg-gray-800 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"p-12 space-y-6 md:space-y-8 sm:p-14",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-gray-900 md:text-3xl dark:text-white",children:"Create an account"}),i&&(0,t.jsxs)("div",{className:"my-2 w-full p-4 rounded ".concat("green"===i.color?"bg-green-500":"bg-red-500"," text-white animate-fadeIn"),children:[(0,t.jsxs)("strong",{children:[i.title,": "]})," ",i.message]}),(0,t.jsxs)("form",{className:"space-y-6 md:space-y-8",onSubmit:r(x),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block mb-3 text-base font-medium text-gray-900 dark:text-white",children:"Name"}),(0,t.jsx)("input",{type:"text",id:"name",className:"bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(a.name?"border-red-500":""),placeholder:"Your name",...e("name"),required:!0}),a.name&&(0,t.jsx)("p",{className:"text-red-500 text-sm italic",children:a.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block mb-3 text-base font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,t.jsx)("input",{type:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(a.email?"border-red-500":""),placeholder:"name@company.com",...e("email"),required:!0}),a.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm italic",children:a.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block mb-3 text-base font-medium text-gray-900 dark:text-white",children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",className:"bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(a.password?"border-red-500":""),placeholder:"••••••••",...e("password"),required:!0}),a.password&&(0,t.jsx)("p",{className:"text-red-500 text-sm italic",children:a.password.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block mb-3 text-base font-medium text-gray-900 dark:text-white",children:"Confirm password"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",className:"bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ".concat(a.confirmPassword?"border-red-500":""),placeholder:"••••••••",...e("confirmPassword"),required:!0}),a.confirmPassword&&(0,t.jsx)("p",{className:"text-red-500 text-sm italic",children:a.confirmPassword.message})]}),(0,t.jsx)("button",{type:"submit",className:"w-full text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-base px-6 py-3 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Create an account"}),(0,t.jsxs)("p",{className:"text-base font-light text-gray-500 dark:text-gray-400",children:["Already have an account? ",(0,t.jsx)("a",{href:"/login",className:"font-medium text-teal-600 hover:underline",children:"Login here"})]})]})]})})]})})}},2399:function(e,r,a){"use strict";a.d(r,{M:function(){return t}});let t="https://ninja-cards-website-lnp1.vercel.app"}},function(e){e.O(0,[445,971,23,744],function(){return e(e.s=6434)}),_N_E=e.O()}]);