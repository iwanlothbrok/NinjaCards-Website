(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[727],{6582:function(e,t,a){Promise.resolve().then(a.bind(a,1904))},510:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return i},a:function(){return s}});var r=a(7437),l=a(2265),n=a(6463);let o=(0,l.createContext)(void 0),i=e=>{let{children:t}=e,[a,i]=(0,l.useState)(null),s=(0,n.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse user data:",e),localStorage.removeItem("user")}},[]),(0,r.jsx)(o.Provider,{value:{user:a,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),i(t),s.push("/")},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),s.push("/login")},setUser:i},children:t})},s=()=>{let e=(0,l.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},1904:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var r=a(7437),l=a(2265),n=a(1942),o=e=>{let{isOpen:t,onClose:a,onSubmit:o}=e,[i,s]=(0,l.useState)({name:"",email:"",phone:"",image:"",note:""}),[c,u]=(0,l.useState)({name:"",email:"",phone:"",note:""}),[d,g]=(0,l.useState)(!1),m=(e,t)=>{switch(e){case"name":return""===t.trim()?"Name is required":"";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Invalid email address";case"phone":return/^[0-9]{10,15}$/.test(t)?"":"Phone number must be between 10 to 15 digits";case"note":return""===t.trim()?"Note is required":"";default:return""}},h=e=>{let{name:t,value:a}=e.target;s({...i,[t]:a}),u({...c,[t]:m(t,a)})},A=()=>{let e={name:m("name",i.name),email:m("email",i.email),phone:m("phone",i.phone),note:m("note",i.note)};return u(e),!Object.values(e).some(e=>e)},p=()=>{let e=["BEGIN:VCARD","VERSION:3.0","CLASS:PUBLIC","PRODID:-//class_vcard //NONSGML Version 1//EN"];return i.name&&e.push("FN:".concat(i.name)),i.image&&e.push("PHOTO;ENCODING=b;TYPE=".concat(i.image.split(";")[0].split(":")[1].toUpperCase(),":").concat(i.image.split(",")[1])),i.phone&&e.push("TEL;TYPE=Phone,type=VOICE;type=pref:".concat(i.phone)),i.email&&e.push("EMAIL;type=INTERNET;type=Email;type=pref:".concat(i.email)),i.note&&e.push("NOTE;CHARSET=UTF-8:".concat(i.note)),e.push("REV:".concat(new Date().toISOString().replace(/[-:.]/g,"").slice(0,15),"Z")),e.push("END:VCARD"),e.join("\r\n")},b=async e=>{e.preventDefault(),A()&&(g(!0),o(p()),g(!1),a())};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 transition-opacity duration-300",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg mx-4 sm:mx-auto",children:[(0,r.jsx)("h2",{className:"text-2xl mb-4 font-semibold text-gray-900 text-center",children:"Разменете Контакти"}),(0,r.jsxs)("form",{onSubmit:b,noValidate:!0,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"name",className:"block text-gray-700 font-medium",children:[(0,r.jsx)(n.Xws,{className:"inline mr-2"})," Вашето Име"]}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:i.name,onChange:h,className:"w-full px-4 py-2 border text-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.name?"border-red-500":""),required:!0,placeholder:"Иван Иванов","aria-label":"Your Name"}),c.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.name})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-gray-700 font-medium",children:[(0,r.jsx)(n.LzR,{className:"inline mr-2"})," Вашия Имейл"]}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:h,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.email?"border-red-500":""),required:!0,placeholder:"example@example.com","aria-label":"Your Email"}),c.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"phone",className:"block text-gray-700 font-medium",children:[(0,r.jsx)(n.I7T,{className:"inline mr-2"})," Вашия Телефонен Номер"]}),(0,r.jsx)("input",{type:"text",id:"phone",name:"phone",value:i.phone,onChange:h,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.phone?"border-red-500":""),required:!0,placeholder:"+359 88 888 8888","aria-label":"Your Phone"}),c.phone&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.phone})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"image",className:"block text-gray-700 font-medium",children:[(0,r.jsx)(n.H3h,{className:"inline mr-2"})," Ваша Снимка (Качи)"]}),(0,r.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){let e=new FileReader;e.onloadend=()=>{s({...i,image:e.result})},e.readAsDataURL(a)}},className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500","aria-label":"Your Image"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"note",className:"block text-gray-700 font-medium",children:[(0,r.jsx)(n.mGS,{className:"inline mr-2"})," Информация"]}),(0,r.jsx)("input",{type:"text",id:"note",name:"note",value:i.note,onChange:h,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(c.note?"border-red-500":""),required:!0,placeholder:"Запознахме се на...","aria-label":"Note"}),c.note&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.note})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",children:"Откажи"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-purple-500 rounded-lg hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-700 disabled:bg-purple-300",disabled:d,children:d?"Изпраща се...":"Изпрати"})]})]})]})}):null},i=a(6463),s=a(7847),c=a(510),u=a(2399),d=e=>{let{user:t}=e,[a,i]=(0,l.useState)(!1),s=async e=>{try{await fetch("".concat(u.M,"/api/profile/exchangeContact"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:null==t?void 0:t.email,vCard:e})}),alert("Contact information sent successfully")}catch(e){console.error("Error sending contact information:",e),alert("Failed to send contact information. Please try again.")}};return(0,r.jsxs)("div",{className:"flex flex-col space-y-4 mt-8 mb-8",children:[(0,r.jsxs)("button",{onClick:()=>window.location.href="tel:".concat(null==t?void 0:t.phone1),className:"flex items-center justify-center bg-gradient-to-r from-green-400 to-green-600 text-white px-8 py-4 rounded-full shadow-lg hover:from-green-500 hover:to-green-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 focus:ring-opacity-50 w-full sm:w-auto",children:[(0,r.jsx)(n.DNl,{className:"mr-3 text-2xl"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"Обади се"})]}),(0,r.jsxs)("button",{onClick:()=>navigator.share&&navigator.share({title:null==t?void 0:t.name,text:"Contact ".concat(null==t?void 0:t.name),url:window.location.href}),className:"flex items-center justify-center bg-gradient-to-r from-blue-400 to-blue-600 text-white px-8 py-4 rounded-full shadow-lg hover:from-blue-500 hover:to-blue-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-50 w-full sm:w-auto",children:[(0,r.jsx)(n.PPi,{className:"mr-3 text-2xl"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"Сподели"})]}),(0,r.jsxs)("button",{onClick:()=>{i(!0)},className:"flex items-center justify-center bg-gradient-to-r from-purple-400 to-purple-600 text-white px-8 py-4 rounded-full shadow-lg hover:from-purple-500 hover:to-purple-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-300 focus:ring-opacity-50 w-full sm:w-auto",children:[(0,r.jsx)(n.SRX,{className:"mr-3 text-2xl"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"Разменете Контакти"})]}),(0,r.jsx)(o,{isOpen:a,onClose:()=>{i(!1)},onSubmit:s})]})},g=a(6648),m={src:"/_next/static/media/fb.3bd4ca41.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABCUlEQVR42h3PMUvDQBgG4PcuZ2yFtA4iXIt00LYWcRAHwdnqIk5Bf4ZTZ5Uurm6Ck25CZkE3B62jtIM4SAUJoagITSw1+b47oc8/eET9cuj0hWQAhXXBzU5MQD+7w7yNATjKSMEV2M28tUFnZPRGDsjVnej+J/PRKj1KC1HwYINuTPpkQdLNQZF2y47GmIOj69BTLnMzM0YjZdprzKj3QYrW84jKrtXnb1lTzsGglzDaNYVaaQpVPY3TFRfhkFCRBqJ68e3liV+7X5l+2p+l5I+xdfWpFouIBinX5arkeMmFj4QiZqOIjEJM0XIeftKuxaJ8Fjnh4QcD8B5eGju/Y8b2Wu/WOy5Nmv8dXHdBy/JfBwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},h={src:"/_next/static/media/ig.89062736.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA70lEQVR42mNAgKXCDAwNQgwMRUJpDP1CDMgg0m/PrLqGU1/nTjj9YmXXsRebsnd92SW3YjIDCAgyVAvPqtrzdfeiE//3LDj6/8zyE//vbzr//2La+s9bgaYxtDEwCF3qXv7i+sIt/+/3Lvz7vH/x31dLd/6/17LmxUoGBiGGp0DiS2f/i7+L5/7/M6nr78++3r9f5i35/7Rj8YsDIAU/gMS/xvwv/zfN+f9/27z//1fP/f97wbz/r4vbv1wAKQCBf4U6k//tKP3y73zPi//rO1/8rS348sHUZzIDMvg/g0Ho/3IGoX8MDEJ/GBjg3gQA6tF5ZjmrgHYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},A={src:"/_next/static/media/lk.e3b667c6.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA8ElEQVR42h3PwUoCURSA4f9cnNFmBoYinBLNhUFE64GgB/ARggJx0b4n6MFcSFDQxk1ki2gltCgJQcuxca5zT+D3Bp8A0H/xmGzizoXvClV+Vcy81AVghetnr96uDM4CSR+XmvlAKIRzZWSt6xo+ND7dkfTmPIo2RZmsrEu+V2VknabtmokND2vXDEzW2qtyf1V3b7dtN+wdQKnZca3iDBREVUNjv8ZREvD0uqBzGNBv+QzvZlTAM7l14WJpEcFMpjmz+RpVDcEYoTf2Gk0GnaqkImTTAhKf8P1PR1+fdAWAy7HHj4vJcZwYmDjDrmyb/xqdYenPumNdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},p={src:"/_next/static/media/x.b7238de7.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAkElEQVR42gUAwQoBUXDKZXKQplHq9ZIDRfEU0pY4bG1RaB3cNlcHZ38h7QdwdvEdu58y57m/RrCCBPdc0IVSDjgFWOCmmutARhJ0WQ8RbtzW0kor7G4dzRlONJGD/eI7egsyI0gpyNo+8RuP5mRHkHNXH5bZ014GemXoYai9OmmI03HVQuhDE7ec0ZkSZvTwB/uKM7dIdSjxAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},b={src:"/_next/static/media/git.c15779ff.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAkElEQVR42h3IMQ4BQRgF4JdMa6ZwAJVWRCTCFhb1SOysWDQbhYZCo3AB93AgbrDtTCORWArJHx7xlR/GysKZLJ2mVseIFRwm0SCAYDsMoxGwNv1wYSGFnFkPmUHVbfgR/rwlJxwayYrPf7xkRiSA3voTSyllx5rfayyQd4/+wSvhba8FHNQSqNzc3TV1B3P1BXhmP9/aH+N8AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},f={src:"/_next/static/media/tiktok.dc535b94.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABCklEQVR42mMAAT9fXz7/wCBhV0tDoTg3BaHs/EJhdxcXPrCkl7c3n6en52VvH58PgcGhL+3c/F6aGhl88PH1veRoZ8/H4GBvJ+zh5fXBSkvmv6p36P/TV+/+b6yu/m9iZv4+OTVVmCEiMV3ITF/7RWp54//pc1f/vXPj/t+NM+b+11HXepFYkCvE0JSfLcQgKf9i38Ez/1cvWvf3yO5jfy0ZGP7buLm+cDQyFWIoKywQZmDneT9j5uz/ly9c/7+uf9Z/dUW5/7Z29h/srG2EGQwMjfjMzcwuiUuKf0hwcHmpJyb20tDC/IOZqellUzNTiE80dfT44mIThIFMIcfEBCF7bV1hHSMjsCQANide3czrCfoAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},x={src:"/_next/static/media/be.0579f9a4.png",height:50,width:50,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAWUlEQVR42mXNoQ2EQAAF0dcAhZ0/tzlxBxcMVYChFaqBEhAEAR5FsqwgIYH8jJw/ZIKfbyIXZATRtcBfNFhtRlFOZfbS6nxEBZXJW61R2hOSorecSvE8vWcPeoAnvVgeJ14AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},y={src:"/_next/static/media/icons8-paypal-48.62b36f37.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA1ElEQVR42mMAAaGMA4yiKfsFxZL3iYgl7OEAiXH23mJhgAGgpJ1I6oEvQPxCJO3gC9H4vXYgccGiE8xgBUCJaqCi/8oei36p6U/5L1l08CPD8g/RcBOE0w+tkYzd8V9Tteu7mt3099yT7vxnmPP8OlhSoPoMh2jivudCZSf/80689YtlxiOQ5H/mmU/yIQ7MO6ooFrv7GGf3zc8MC15+ZZr9NJ51xiNzuPHsk+8xgWigxH7mWU92wsRZZj5mhCsSzD/ByDzjsTBQERdQERPTrCfMMDkA241TplPPW9cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},v={src:"/_next/static/media/tp.fa2d9943.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAoElEQVR42mMAg62VjFCaFYjZkMXQFQQCcTCUzQSmwTq2VXGA2dsq1wH5G8Hs7dUcQDY7SIEQEC8GKroPpL8C6a9ASRB7GVCDCAMYbKnkBgpsAkr+Z9hU/p9hVeEOhhPtfHAroPQUoM4/DAuzfjPMTp0JFluYyQZTxAfEK4C6lRgONMox7KxZzrC+lB/ZF9wMm8qY4XwbBiaG7VXcDAwMDACGBEJnb4piegAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},C={src:"/_next/static/media/viber.021af9f1.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA+0lEQVR42mOAAR+GpSbdDLsip9rtj3RkWGzCgAzWVJ6efeP4k/+Prr/6f+v00/83Tz35v6rs1BwGEMhjWG9/7cjj/3vnXPn/+OarPzs6Lv0BKbx99un/aIaV9gydDLtint1/83/nlEt/Hl5/8f/BlRf/T2+68+fhjef/exl2xzDUMWwNe3zr5f/Pnz7/PrHu1r9Dy679uX/12c8H15/9r2XYGsrAwDBF8uCSa58/f/n0/93b9//3zr30//zeO/+Prrn2kYGhW5IBBPwYlhnsW3D51dldtx8dWXPt8Oaes2vKGTZDfDLb5xALiJ6gvDeGgWGmNAMS6GLYxQQAcVKKqmyg6EQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},w={src:"/_next/static/media/wa.573cad60.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA8klEQVR42jWPsUrDUBSGDzjXxcFn8BGqq5OLQgQR3BScfAsnH8BFsCAKIkgEA1pUEKVYFMSCYK1NUGmuLU2p1nS4vUm/5g79xvOfc/h+ASYkg5gcAxw0y0RM2tk4E/PP7HvbVyd1F9f3CDpfP7o3nBMLPXK1KFC7b3uslTeNXInZeNyySwr7iQSnUD3kTpVM8fsauRSkKOYs8EDjCJol1z9n5WE9LTefuG3cs13ZMccfp1gnIWXqpfXalhthobSaep8XZr92QOYUWnHpRv28+mslz83KrxUsVI+ysB4mMXmx+I1wptuJ5xkyjWbROtnLcc0ReU+x/IgheDQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},j={src:"/_next/static/media/website.b84b16bc.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA6klEQVR42iWPMU7DQBBF/6wdgoKUIFEYOABIVNQpaNKkoANxCy5CxQk4AdRAl4qCCtFFOUBIooDl9RqWmdkhMsWrXvMeXTyHDICaUb/ycVx7hbJ7AlA1jWUEANevcfhZ60OobT/UCl/pfFvcJYAXunqMg1WSKRkK30DKkDArJYfXhdPecX5IPDovUrHTgbBQnsQAcVLVVExmMnLvawdjQmwMHAHZwL8GZ4TJikCndzJ4+6qmAApYJthIeM4R0gLd3aM28uy2HK6/+V6TO1A28I/M9/LOf+TJzbLd/FhqnyyORQzMW+1mt+eyP/7yg2JCkg5vAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},N={src:"/_next/static/media/rev.fe202d81.png",height:42,width:42,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA9ElEQVR42h2PvUoEQRCEq2fGdVe8wx8QTMwUNRMjwUtMBMEnMPUJfAGfQRRMFDMjE9FADAx8ggsFDZY70ORAcZn9s3vGviv4GqoLCoqg2nseXvpG9ouaR8pMUXHmWzkBcO8OX7+6vuaeM3TgWy7SxOCnxGqMuOJG3h1LWCZCpcHbtLMXLYftxdmpneGI+2SpZwCsEdGvAjViCHf5oOgYQ0sxxAdHwLo+B1Aljs4TZz+6C+mTNj3a1H1qRpuWqK9AIm4USIgvao0yOSsAqvy73ogRu2UjR/4v3LLE46rkLQfCdSvhrJOYUqeOg9P5zGU6NQcw9w8fGHDcvHoIwAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},E=e=>{let{user:t,cardStyle:a}=e,l=[{key:"facebook",url:null==t?void 0:t.facebook,logo:m,label:"Facebook",gradient:"from-blue-600 to-purple-600"},{key:"instagram",url:null==t?void 0:t.instagram,logo:h,label:"Instagram",gradient:"from-yellow-500 to-red-700"},{key:"linkedin",url:null==t?void 0:t.linkedin,logo:A,label:"LinkedIn",gradient:"from-blue-700 to-blue-900"},{key:"twitter",url:null==t?void 0:t.twitter,logo:p,label:"Twitter",gradient:"from-blue-500 to-cyan-500"},{key:"github",url:null==t?void 0:t.github,logo:b,label:"GitHub",gradient:"from-gray-900 to-gray-600"},{key:"tiktok",url:null==t?void 0:t.tiktok,logo:f,label:"TikTok",gradient:"from-indigo-600 to-fuchsia-600"},{key:"behance",url:null==t?void 0:t.behance,logo:x,label:"Behance",gradient:"from-blue-600 to-blue-400"},{key:"paypal",url:null==t?void 0:t.paypal,logo:y,label:"PayPal",gradient:"from-blue-500 to-blue-300"},{key:"trustpilot",url:null==t?void 0:t.trustpilot,logo:v,label:"TrustPilot",gradient:"from-black to-gray-800"},{key:"viber",url:"viber://chat?number=".concat(null==t?void 0:t.viber),logo:C,label:"Viber",gradient:"from-purple-500 to-purple-700"},{key:"whatsapp",url:"https://wa.me/".concat(null==t?void 0:t.whatsapp),logo:w,label:"WhatsApp",gradient:"from-green-600 to-green-700"},{key:"website",url:null==t?void 0:t.website,logo:j,label:"Website",gradient:"from-cyan-600 to-cyan-800"},{key:"revolut",url:"https://revolut.me/".concat(null==t?void 0:t.revolut),logo:N,label:"Revolut",gradient:"from-blue-800 to-blue-900"}];return(0,r.jsx)("div",{className:"mt-10 text-center",children:(0,r.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-5 gap-6",children:l.map(e=>e.url&&(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer","aria-label":e.label,className:"relative group",children:(0,r.jsx)("div",{className:"bg-gradient-to-r ".concat(e.gradient," filter grayscale group-hover:filter-none p-3 rounded-full shadow-lg transition-transform transform group-hover:scale-110 flex items-center justify-center"),children:(0,r.jsx)(g.default,{src:e.logo,alt:e.label,width:48,height:48,className:"object-contain transition-all duration-300",priority:!0})})},e.key))})})};let R=[{name:"white",bgClass:"bg-gray-400",textClass:"text-gray-200",borderClass:"border-black",highlightClass:"text-green-600",buttonBgClass:"bg-green-600",cardCoverBgClass:"from-gray-300"},{name:"orange",bgClass:"bg-orange",textClass:"text-gray-200",borderClass:"border-orange",highlightClass:"text-orange",buttonBgClass:"bg-gray-700",cardCoverBgClass:"from-bgOrange"},{name:"blue",bgClass:"bg-blue-500",textClass:"text-white",borderClass:"border-blue-500",highlightClass:"text-blue-500",buttonBgClass:"bg-gray-700",cardCoverBgClass:"from-bgBlue"},{name:"purple",bgClass:"bg-purple-500",textClass:"text-white",borderClass:"border-purple-500",highlightClass:"text-purple-500",buttonBgClass:"bg-gray-700",cardCoverBgClass:"from-bgViolet"},{name:"green",bgClass:"bg-green-500",textClass:"text-white",borderClass:"border-green-500",highlightClass:"text-green-500",buttonBgClass:"bg-gray-700",cardCoverBgClass:"from-bgGreen "},{name:"yellow",bgClass:"bg-yellow-400",textClass:"text-white",borderClass:"border-yellow-400",highlightClass:"text-yellow-400",buttonBgClass:"bg-gray-700",cardCoverBgClass:"from-bgYellow"},{name:"teal",bgClass:"bg-teal-400",textClass:"text-white",borderClass:"border-teal-400",highlightClass:"text-teal-400",buttonBgClass:"bg-gray-700",cardCoverBgClass:"from-bgTeal"}],S=async(e,t,a)=>{try{if(!(await fetch("".concat(u.M,"/api/profile/saveColor"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,selectedColor:t})})).ok)throw Error("Failed to save selected color");a("Color saved successfully","Success","green")}catch(e){console.error(e),a("Failed to save color","Error","red")}},O=async(e,t,a,r)=>{a(!0);try{console.log("".concat(u.M,"/api/profile/").concat(e));let a=await fetch("".concat(u.M,"/api/profile/").concat(e));if(!a.ok)throw Error("Failed to fetch user data");let r=await a.json();t(r)}catch(e){console.error(e),r("Failed to load profile","Error","red")}finally{a(!1)}},k=()=>{let{user:e}=(0,c.a)(),[t,a]=(0,l.useState)(null),[g,m]=(0,l.useState)(!1),[h,A]=(0,l.useState)(null),[p,b]=(0,l.useState)(R[0]),[f,x]=(0,l.useState)(null),[y,v]=(0,l.useState)(!1),[C,w]=(0,l.useState)(!1);(0,i.useRouter)();let j=(0,i.useSearchParams)(),N=null==j?void 0:j.get("id"),k=()=>{w(!0)},D=()=>{w(!1)},I=async e=>{try{await fetch("".concat(u.M,"/api/profile/exchangeContact"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vCard:e})})}catch(e){console.error("Error sending contact information:",e)}};(0,l.useEffect)(()=>{N&&O(N,a,m,V)},[N]),(0,l.useEffect)(()=>{if(t&&t.selectedColor){let e=R.find(e=>e.name===t.selectedColor);e&&b(e)}},[t]),(0,l.useEffect)(()=>{let e=()=>{v(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let V=(e,t,a)=>{A({message:e,title:t,color:a}),setTimeout(()=>A(null),4e3)},T=()=>{if(!t)return;let e=["BEGIN:VCARD","VERSION:3.0","CLASS:PUBLIC","PRODID:-//class_vcard //NONSGML Version 1//EN"];t.lastName&&t.firstName&&e.push("N:".concat(t.lastName,";").concat(t.firstName,";;;")),t.name&&e.push("FN:".concat(t.name)),t.image&&e.push("PHOTO;ENCODING=b;TYPE=JPEG|PNG:".concat(t.image)),t.phone1&&e.push("TEL;TYPE=Phone,type=VOICE;type=pref:".concat(t.phone1)),t.phone2&&e.push("TEL;type=Phone;type=VOICE:".concat(t.phone2)),t.email&&e.push("EMAIL;type=INTERNET;type=Email;type=pref:".concat(t.email)),t.email2&&e.push("EMAIL;type=INTERNET;type=Email 2:".concat(t.email2));let a=[t.street1||"",t.city||"",t.state||"",t.zipCode||"",t.country||""].filter(Boolean).join(";");e.push("ADR;type=WORK;type=pref:;;".concat(a)),t.website&&e.push("URL;type=Website;type=pref:".concat(t.website)),t.bio&&e.push("NOTE;CHARSET=UTF-8:".concat(t.bio)),e.push("REV:".concat(new Date().toISOString().replace(/[-:.]/g,"").slice(0,15),"Z")),e.push("END:VCARD");let r=new Blob([e.join("\r\n")],{type:"text/vcard"}),l=URL.createObjectURL(r),n=document.createElement("a");n.href=l,n.download="".concat(t.firstName,"_").concat(t.lastName,".vcf"),n.click(),URL.revokeObjectURL(l)};return t?g?(0,r.jsx)("div",{className:"flex justify-center items-center py-72",children:(0,r.jsx)("img",{src:"/load.gif",alt:"Loading...",className:"w-40 h-40"})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center ".concat(p.textClass),style:{backgroundImage:"\n                    linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7))",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"0px 20px 50px rgba(0, 0, 0, 0.8)"},children:(0,r.jsxs)(s.E.div,{className:"relative z-10 w-full pt-64 max-w-md p-8 rounded-lg bg-gradient-to-b ".concat(p.cardCoverBgClass," to-black   bg-opacity-5 shadow-2xl"),style:{borderRadius:"inherit"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[(0,r.jsx)(U,{user:t,cardStyle:p}),(0,r.jsx)(s.E.div,{className:"mt-6",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,ease:"easeOut"},children:(0,r.jsx)(d,{user:t})}),(0,r.jsx)(s.E.div,{className:"mt-6",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,ease:"easeOut"},children:(0,r.jsx)(E,{user:t,cardStyle:p})}),(0,r.jsx)(e=>{let{generateVCF:t}=e;return(0,r.jsxs)("div",{className:"fixed bottom-6 left-0 right-0 px-4 z-20 flex justify-center space-x-4 max-w-screen-md mx-auto",children:[(0,r.jsxs)("button",{onClick:t,className:"flex-grow flex items-center justify-center bg-gradient-to-r from-red-600 to-red-700 text-white py-3 rounded-full shadow-lg hover:shadow-xl hover:bg-red-900 transition-all duration-300 ease-in-out transform hover:scale-105",children:[(0,r.jsx)(n.aBF,{className:"mr-2 text-3xl"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"СВАЛИ КОНТАКТ"})]}),(0,r.jsx)("button",{onClick:k,className:"w-16 flex items-center justify-center bg-gradient-to-r from-green-500 to-green-700 text-white py-3 rounded-full shadow-lg hover:shadow-xl hover:bg-green-600 transition-all duration-300 ease-in-out transform hover:scale-105",children:(0,r.jsx)(n.qau,{className:"text-3xl"})}),(0,r.jsx)(o,{isOpen:C,onClose:D,onSubmit:I})]})},{generateVCF:T}),(null==e?void 0:e.id)===t.id&&(0,r.jsx)(s.E.div,{className:"mt-8",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,ease:"easeOut",delay:.6},children:(0,r.jsx)(P,{cardBackgroundOptions:R,handleColorSelection:e=>{if(t&&t.id){S(t.id,e,V);let a=R.find(t=>t.name===e);a&&b(a)}},cardStyle:p})}),(0,r.jsx)(s.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.8},children:(0,r.jsx)(B,{user:t,showTooltip:f,handleTouchStart:e=>{setTimeout(()=>x(e),500)},handleTouchEnd:()=>{x(null)},generateVCF:T,shareContact:()=>{navigator.share?navigator.share({title:(null==t?void 0:t.name)?"Контакт ".concat(t.name):"Контакт",text:(null==t?void 0:t.name)?"Вижте контактните данни на ".concat(t.name):"Вижте контактните данни",url:window.location.href}):T()}})})]})}):(0,r.jsx)("div",{className:"text-center text-3xl py-72 text-red-600 ",children:"Няма подобен профил наличен."})};function D(){return(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(k,{})})}let U=e=>{let{user:t,cardStyle:a}=e;return(0,r.jsxs)("div",{className:"relative flex items-center p-4 bg-gradient-to-b ".concat(a.cardCoverBgClass," to-black rounded-lg shadow-lg"),children:[(0,r.jsx)(s.E.div,{className:"relative z-10 w-80 h-52 rounded-full overflow-hidden border-4 ".concat(a.borderClass," shadow-xl"),initial:{scale:.9},animate:{scale:1},whileHover:{scale:1.05},transition:{duration:.5},children:(null==t?void 0:t.image)?(0,r.jsx)("img",{className:"w-full h-full object-cover",src:"data:image/jpeg;base64,".concat(t.image),alt:"Profile"}):(0,r.jsx)(n.m3W,{className:"w-full h-full text-gray-300"})}),(0,r.jsxs)("div",{className:"ml-4 z-10",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white leading-tight",children:null==t?void 0:t.name}),(0,r.jsx)("p",{className:"text-md mt-2 ".concat(a.highlightClass),children:null==t?void 0:t.position}),(0,r.jsx)("p",{className:"text-md mt-0 ".concat(a.highlightClass),children:null==t?void 0:t.company}),(null==t?void 0:t.bio)&&(0,r.jsx)("p",{className:"text-sm mt-3 text-gray-300 max-w-xs leading-relaxed",children:t.bio.length>120?"".concat(t.bio.substring(0,117),"..."):t.bio})]})]})},B=e=>{let{user:t,showTooltip:a,handleTouchStart:l,handleTouchEnd:n,generateVCF:o,shareContact:i}=e;return(0,r.jsx)("div",{className:"fixed bottom-4 left-5 right-5 flex justify-center items-center space-x-8 z-20"})},P=e=>{let{cardBackgroundOptions:t,handleColorSelection:a,cardStyle:l}=e;return(0,r.jsxs)("div",{className:"mt-6 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold ".concat(l.highlightClass),children:"Customize Card Background"}),(0,r.jsx)("div",{className:"flex justify-center space-x-4 mt-4",children:t.map(e=>{let{name:t,bgClass:n}=e;return(0,r.jsx)("button",{onClick:()=>a(t),"aria-label":"Select ".concat(t," background"),className:"w-10 h-10 rounded-full border-2 transition-transform transform hover:scale-110 ".concat(n," ").concat(l.name===t?"ring-4 ring-offset-2 ring-blue-500":""),children:l.name===t&&(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-white mx-auto",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},t)})})]})}},6463:function(e,t,a){"use strict";var r=a(1169);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},2399:function(e,t,a){"use strict";a.d(t,{M:function(){return r}});let r="https://ninja-cards-website-lnp1.vercel.app"},1810:function(e,t,a){"use strict";a.d(t,{w_:function(){return u}});var r=a(2265),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(l),o=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){var r,l;r=t,l=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[r]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e){return t=>r.createElement(d,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var a,{attr:l,size:n,title:s}=e,u=function(e,t){if(null==e)return{};var a,r,l=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}(e,o),d=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,u,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==n?r.createElement(n.Consumer,null,e=>t(e)):t(l)}}},function(e){e.O(0,[699,648,847,971,23,744],function(){return e(e.s=6582)}),_N_E=e.O()}]);